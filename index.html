<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>RP_GUPTA_07 | LEGENDARY ARENA</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --neon: #00f2ff;
            --gold: #ffcc00;
            --pink: #ff0055;
            --bg: #050508;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: 'Rajdhani', sans-serif; height: 100vh; overflow: hidden; }

        /* Animated Background Elements */
        .scanline { width: 100%; height: 100px; background: linear-gradient(0deg, transparent, rgba(0,242,255,0.1), transparent); position: fixed; top: -100px; animation: scan 4s linear infinite; z-index: 100; pointer-events: none; }
        @keyframes scan { 0% { top: -100px; } 100% { top: 100vh; } }

        .screen { position: fixed; inset: 0; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 20px; transition: 0.5s; background: radial-gradient(circle at center, #10101a 0%, #050508 100%); }
        .active { display: flex; animation: fadeIn 0.8s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(1.1); } to { opacity: 1; transform: scale(1); } }

        /* PAGE 1: INTRO */
        .photo-frame { width: 150px; height: 150px; border-radius: 50%; border: 4px solid var(--neon); box-shadow: 0 0 20px var(--neon); overflow: hidden; margin-bottom: 20px; }
        .photo-frame img { width: 100%; height: 100%; object-fit: cover; }

        /* PAGE 2-4: PROGRESS & UNLOCKING */
        .loader-bar { width: 250px; height: 10px; background: #222; border-radius: 5px; overflow: hidden; margin: 20px 0; border: 1px solid #444; }
        .fill { width: 0%; height: 100%; background: var(--neon); transition: 2s; box-shadow: 0 0 15px var(--neon); }

        /* COMMON BUTTONS */
        .btn { padding: 15px 40px; border: none; border-radius: 50px; background: linear-gradient(45deg, var(--neon), #0066ff); color: #000; font-family: 'Orbitron'; font-weight: 900; cursor: pointer; text-transform: uppercase; box-shadow: 0 5px 20px rgba(0,242,255,0.4); margin-top: 20px; }
        .btn:active { transform: scale(0.95); }

        /* GAME BOARD (PAGE 5) */
        .board { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%; max-width: 320px; margin: 20px 0; }
        .cell { aspect-ratio: 1/1; background: rgba(255,255,255,0.03); border: 1px solid #333; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 40px; font-weight: bold; transition: 0.3s; }
        .cell.x { color: var(--neon); text-shadow: 0 0 10px var(--neon); }
        .cell.o { color: var(--pink); text-shadow: 0 0 10px var(--pink); }

        h1 { font-family: 'Orbitron'; letter-spacing: 3px; text-align: center; }
        .glitch { text-shadow: 2px 2px var(--pink), -2px -2px var(--neon); }
    </style>
</head>
<body>

<div class="scanline"></div>

<div id="p1" class="screen active">
    <div class="photo-frame">
        <img src="https://via.placeholder.com/150" alt="RP_GUPTA_07">
    </div>
    <h1 class="glitch">RP_GUPTA_07</h1>
    <p style="color: var(--neon)">BORN TO CONQUER</p>
    <button class="btn" onclick="nextPage(2)">ENTER ARENA</button>
</div>

<div id="p2" class="screen">
    <h1>LEVEL 1: AUTH</h1>
    <p>ENCRYPTING PROTOCOLS...</p>
    <div class="loader-bar"><div id="f1" class="fill"></div></div>
    <div id="btn2" style="display:none"><button class="btn" onclick="nextPage(3)">PROCEED</button></div>
</div>

<div id="p3" class="screen">
    <h1>LEVEL 2: SCAN</h1>
    <p>AI ANALYSIS IN PROGRESS...</p>
    <div class="loader-bar"><div id="f2" class="fill"></div></div>
    <div id="btn3" style="display:none"><button class="btn" onclick="nextPage(4)">NEXT STAGE</button></div>
</div>

<div id="p4" class="screen">
    <h1 style="color:var(--gold)">FINAL STAGE</h1>
    <p>SYNCING NEURAL NETWORK...</p>
    <div class="loader-bar"><div id="f3" class="fill"></div></div>
    <div id="btn4" style="display:none"><button class="btn" onclick="nextPage(5)">START BATTLE</button></div>
</div>

<div id="p5" class="screen">
    <div style="display:flex; gap:20px; margin-bottom:20px;">
        <div style="text-align:center">SCORE<br><b id="winScore" style="color:var(--neon); font-size:24px">0</b></div>
        <div style="text-align:center">LOSS<br><b id="loseScore" style="color:var(--pink); font-size:24px">0</b></div>
    </div>
    <h2 id="status">YOUR TURN</h2>
    <div class="board" id="board"></div>
    <button class="btn" onclick="resetGame()" style="background:none; color:var(--neon); border:1px solid var(--neon)">RESTART</button>
</div>

<script>
    let board = Array(9).fill("");
    let isGameOver = false;
    let scores = { w: 0, l: 0 };

    function nextPage(n) {
        // Haptic feedback
        if (window.navigator.vibrate) window.navigator.vibrate(50);
        
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById('p' + n).classList.add('active');

        if(n === 2) startLoad('f1', 'btn2');
        if(n === 3) startLoad('f2', 'btn3');
        if(n === 4) startLoad('f3', 'btn4');
        if(n === 5) initGame();
    }

    function startLoad(id, btnId) {
        setTimeout(() => {
            document.getElementById(id).style.width = "100%";
            setTimeout(() => {
                document.getElementById(btnId).style.display = "block";
            }, 2100);
        }, 500);
    }

    function initGame() {
        const b = document.getElementById('board');
        b.innerHTML = '';
        board = Array(9).fill("");
        isGameOver = false;
        for(let i=0; i<9; i++) {
            let c = document.createElement('div');
            c.className = 'cell';
            c.onclick = () => tap(i);
            b.appendChild(c);
        }
    }

    function tap(i) {
        if(board[i] || isGameOver) return;
        move(i, "X");
        if(!isGameOver) {
            document.getElementById('status').innerText = "AI THINKING...";
            setTimeout(bot, 600);
        }
    }

    function move(i, s) {
        board[i] = s;
        const c = document.getElementById('board').children[i];
        c.innerText = s;
        c.classList.add(s.toLowerCase());
        
        if(check(s)) return end(s);
        if(!board.includes("")) return end("draw");
    }

    function bot() {
        let best = find(board, "O") || find(board, "X") || (board[4]===""?4:null) || random();
        move(best, "O");
        document.getElementById('status').innerText = "YOUR TURN";
    }

    function find(b, s) {
        const lines = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
        for(let l of lines) {
            let v = l.map(idx => b[idx]);
            if(v.filter(x => x === s).length === 2 && v.includes("")) return l[v.indexOf("")];
        }
        return null;
    }

    function random() {
        let a = board.map((v,i) => v===""?i:null).filter(v=>v!==null);
        return a[Math.floor(Math.random()*a.length)];
    }

    function check(s) {
        const lines = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
        return lines.some(l => l.every(i => board[i] === s));
    }

    function end(res) {
        isGameOver = true;
        if(res === "X") {
            confetti();
            scores.w++;
            document.getElementById('status').innerText = "VICTORY!";
        } else if(res === "O") {
            scores.l++;
            document.getElementById('status').innerText = "YOU LOST!";
        } else {
            document.getElementById('status').innerText = "DRAW!";
        }
        document.getElementById('winScore').innerText = scores.w;
        document.getElementById('loseScore').innerText = scores.l;
    }

    function resetGame() {
        initGame();
        document.getElementById('status').innerText = "YOUR TURN";
    }
</script>
</body>
</html>

