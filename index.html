<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Social Media App</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        #app { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: #1877f2; }
        #feed { height: 400px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; background: #fafafa; }
        .post { background: #e4e6eb; padding: 10px; margin-bottom: 8px; border-radius: 8px; }
        .user { font-weight: bold; color: #1877f2; display: block; }
        input, button { width: 100%; padding: 10px; margin-top: 5px; border-radius: 5px; border: 1px solid #ccc; box-sizing: border-box; }
        button { background: #1877f2; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background: #166fe5; }
    </style>
</head>
<body>

<div id="app">
    <h2>Social Feed</h2>
    <div id="feed">लोड हो रहा है...</div>
    
    <input type="text" id="username" placeholder="आपका नाम">
    <input type="text" id="message" placeholder="कुछ लिखें...">
    <button onclick="sendPost()">Post करें</button>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

  // अपनी Firebase डिटेल्स यहाँ डालें
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const postsRef = ref(db, 'posts');

  // मैसेज भेजने का फंक्शन
  window.sendPost = function() {
    const user = document.getElementById('username').value;
    const msg = document.getElementById('message').value;

    if (user && msg) {
      push(postsRef, {
        username: user,
        message: msg,
        timestamp: Date.now()
      });
      document.getElementById('message').value = ""; // बॉक्स खाली करें
    } else {
      alert("नाम और मैसेज दोनों लिखें!");
    }
  }

  // डेटा को रियल-टाइम में दिखाने के लिए
  onValue(postsRef, (snapshot) => {
    const feed = document.getElementById('feed');
    feed.innerHTML = ""; // पुराना डेटा साफ़ करें
    snapshot.forEach((childSnapshot) => {
      const data = childSnapshot.val();
      const postDiv = document.createElement('div');
      postDiv.className = 'post';
      postDiv.innerHTML = `<span class="user">${data.username}</span> ${data.message}`;
      feed.prepend(postDiv); // नया मैसेज ऊपर दिखाएं
    });
  });
</script>

</body>
</html>
